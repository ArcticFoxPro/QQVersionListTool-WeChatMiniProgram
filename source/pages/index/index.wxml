<!-- index.wxml -->

<!--
Copyright (c) 2024 ArcticFoxPro
Qverbow Vigor is licensed under Mulan PubL v2.
You can use this software according to the terms and conditions of the Mulan PubL v2.
You may obtain a copy of Mulan PubL v2 at:
        http://license.coscl.org.cn/MulanPubL-2.0
THIS SOFTWARE IS PROVIDED ON AN "AS IS" BASIS, WITHOUT WARRANTIES OF ANY KIND,
EITHER EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO NON-INFRINGEMENT,
MERCHANTABILITY OR FIT FOR A PARTICULAR PURPOSE.
See the Mulan PubL v2 for more details.
-->

<wxs module="indexUtil" src="./index.wxs"></wxs>

<t-message id="t-message"/>

<view class="page">
    <view id="titleTop1">
        <t-navbar t-class-content="t-navbar-content" t-class-placeholder="t-navbar-placeholder"
                  t-class-title="nav-title">
            <view class="text-36rpx font-600 ml-16rpx" id="smallTitle" slot="left"
                  style="width: 70vw; opacity: {{titleOpacity}};">{{listOrder[verListCurrent]}}</view>
        </t-navbar>
    </view>

    <view class="recycle-view-container">
        <swiper bind:change="swiperChange" current="{{verListCurrent}}" duration="250"
                style="height:{{heightRecycle+'px'}};">
            <swiper-item wx:for="{{listOrder}}" wx:key="listOrder">
                <scroll-view bind:refresh="onRefresh" bindscroll="titleChange" class="qq-version-list" enable-passive
                             enhanced scroll-top="{{topNum}}" scroll-with-animation scroll-y="{{true}}"
                             show-scrollbar="{{false}}" style="height:{{heightRecycle+'px'}};"
                             throttle="{{!ThrottleSwitch}}" type="list" wx:if="{{item==='QQ 版本列表 Vigor'}}">
                    <view class="header-title" id="titleTop2">QQ 版本列表 Vigor</view>
                    <view class="qq-version-item w-full" wx:for="{{qqVersions}}" wx:key="versions">
                        <t-cell-group theme="card">
                            <t-cell arrow bind:tap="clickCell" data-index="{{index}}" hover leftIcon="">
                                <view class="flex justify-center items-center" slot="title"
                                      style="font-family: {{TCloudNumberSwitch?'TCloudNumber-'+(TCloudNumberHeavy===2?'Bold':(TCloudNumberHeavy===1?'Regular':'Light'))+',':''}} sans-serif; font-size: 60rpx;">
                                    {{item.versionNumber}}
                                    <t-icon class="ml-12rpx" name="" prefix="ue-logo-src" size="34rpx" slot="icon"
                                            wx:if="{{item.isUnrealEngine&&UESwitch}}"/>
                                    <t-icon class="ml-12rpx" name="" prefix="kuikly-logo-src" size="32rpx" slot="icon"
                                            wx:if="{{item.isKuiklyInside&&KuiklySwitch}}"/>
                                    <t-icon class="ml-6rpx" name="" prefix="qqnt-logo-src" size="44rpx" slot="icon"
                                            wx:if="{{item.isQQNTFramework}}"/>
                                </view>
                                <view class="flex justify-center items-center" slot="note">
                                    <t-button class="mr-16rpx" icon="link" shape="square" size="medium"
                                              style="visibility: hidden" theme="light" variant="outline"/>
                                    <t-tag class="ml-12rpx" icon="{{null}}" size="small" theme="primary" variant="light"
                                           wx:if="{{item.isAccessibility}}">
                                        <t-icon name="accessibility_new" prefix="material-symbols-outlined" size="28rpx"
                                                slot="icon"/>
                                    </t-tag>
                                    <t-tag class="ml-12rpx" size="small" theme="primary" variant="light">
                                        {{item.size}} MB
                                    </t-tag>
                                    <t-tag class="ml-12rpx" size="small" theme="primary" variant="light"
                                           wx:if="{{PerProSwitch}}">
                                        {{indexUtil.formatPercent(item.size, maxSize)}}
                                    </t-tag>
                                </view>
                            </t-cell>
                        </t-cell-group>
                    </view>
                    <view class="qq-version-item-bottom w-full p-64rpx" wx:if="{{qqVersions.length>=1}}"
                          wx:key="lastItem"></view>
                </scroll-view>
                <scroll-view bind:refresh="onRefresh" bindscroll="titleChange" class="qq-version-list" enable-passive
                             enhanced scroll-top="{{topNum}}" scroll-with-animation scroll-y="{{true}}"
                             show-scrollbar="{{false}}" style="height:{{heightRecycle+'px'}};"
                             throttle="{{!ThrottleSwitch}}" type="list" wx:if="{{item==='TIM 版本列表 Vigor'}}">
                    <view class="header-title" id="titleTop3">TIM 版本列表 Vigor</view>
                    <view class="qq-version-item w-full" wx:for="{{timVersions}}" wx:key="version">
                        <t-cell-group theme="card">
                            <t-cell arrow bind:tap="clickTimCell" data-index="{{index}}" hover leftIcon="">
                                <view class="text-60rpx flex justify-center items-center" slot="title"
                                      style="font-family: {{TCloudNumberSwitch?'TCloudNumber-'+(TCloudNumberHeavy===2?'Bold':(TCloudNumberHeavy===1?'Regular':'Light'))+',':''}} sans-serif;">
                                    {{item.version_code}}
                                    <t-icon class="ml-12rpx" name="" prefix="kuikly-logo-src" size="32rpx" slot="icon"
                                            wx:if="{{item.isKuiklyInside&&KuiklySwitch}}"/>
                                    <t-icon class="ml-6rpx" name="" prefix="qqnt-logo-src" size="44rpx" slot="icon"
                                            wx:if="{{item.isQQNTFramework}}"/>
                                </view>
                                <view class="flex justify-center items-center" slot="note">
                                    <t-button bind:tap="getTimNewestLink" class="mr-16rpx"
                                              disabled="{{getTimNewestLinkLoading===true}}" icon="link" shape="square"
                                              size="medium" style="visibility: {{item.link===''?'hidden':'visible'}}"
                                              theme="light" variant="outline"/>
                                    <t-tag class="ml-12rpx" icon="{{null}}" size="small" theme="primary" variant="light"
                                           wx:if="{{item.isAccessibility}}">
                                        <t-icon name="accessibility_new" prefix="material-symbols-outlined" size="28rpx"
                                                slot="icon"/>
                                    </t-tag>
                                </view>
                            </t-cell>
                        </t-cell-group>
                    </view>
                    <view class="qq-version-item-bottom w-full p-64rpx" wx:if="{{timVersions.length>=1}}"
                          wx:key="lastItem"></view>
                </scroll-view>
                <scroll-view bind:refresh="onRefresh" bindscroll="titleChange" class="qq-version-list" enable-passive
                             enhanced scroll-top="{{topNum}}" scroll-with-animation scroll-y="{{true}}"
                             show-scrollbar="{{false}}" style="height:{{heightRecycle+'px'}};"
                             throttle="{{!ThrottleSwitch}}" type="list" wx:if="{{item==='微信版本列表 Vigor'}}">
                    <view class="header-title" id="titleTop4">微信版本列表 Vigor</view>
                    <view class="qq-version-item w-full">
                        <t-notice-bar bind:click="clickLocalWeixin"
                                      class="local-weixin qq-version-item mx-32rpx rounded-18rpx"
                                      content="本机微信：{{weixinLocalVersion}}" prefixIcon="{{false}}"
                                      suffixIcon="chevron-right" visible="{{true}}">
                            <view slot="prefix-icon">
                                <t-icon name="phone-search"></t-icon>
                            </view>
                        </t-notice-bar>
                    </view>
                    <view class="qq-version-item w-full" wx:for="{{weixinVersions}}" wx:key="version">
                        <t-cell-group theme="card">
                            <t-cell arrow bind:tap="clickWeixinCell" data-index="{{index}}" hover leftIcon="">
                                <view class="text-60rpx flex justify-center items-center" slot="title"
                                      style="font-family: {{TCloudNumberSwitch?'TCloudNumber-'+(TCloudNumberHeavy===2?'Bold':(TCloudNumberHeavy===1?'Regular':'Light'))+',':''}} sans-serif;">
                                    {{item.version}}
                                    <t-tag class="ml-12rpx" size="small" theme="primary" variant="light"
                                           wx:if="{{item.isAlpha}}">已安装
                                    </t-tag>
                                    <t-tag class="ml-12rpx" size="small" theme="primary" variant="light"
                                           wx:if="{{item.version===weixinLocalVersion}}">已安装
                                    </t-tag>
                                </view>
                                <view class="flex justify-center items-center" slot="note">
                                    <t-button bind:tap="updateWeixin" class="mr-16rpx" icon="download-1" shape="square"
                                              size="medium" style="visibility: {{item.version===weixinLatestVersion?'visible':'hidden'}}"
                                              theme="light" variant="outline"/>
                                </view>
                            </t-cell>
                        </t-cell-group>
                    </view>
                    <view class="qq-version-item-bottom w-full p-64rpx" wx:if="{{weixinVersions.length>=1}}"
                          wx:key="lastItem"></view>
                </scroll-view>
            </swiper-item>
        </swiper>
    </view>

    <view class="bottom-button" hidden="{{safeBottomPadding===0}}" id="bottomButton"
          style="padding-bottom: {{safeBottomPadding}}px">
        <view class="gradient-layer"></view>
        <view class="flex items-center mr-24rpx">
            <t-button aria-label="关于" bind:tap="handleAboutPopup" block class="about-home mr-12rpx" icon="info-circle"
                      shape="square" size="large" theme="light" variant="outline"></t-button>
            <t-button aria-label="设置" bind:tap="handleSettingPopup" block class="setting-home ml-12rpx mr-12rpx"
                      icon="setting" shape="square" size="large" theme="light" variant="outline"></t-button>
            <t-button aria-label="刷新" bind:tap="refreshData" block class="refresh-home ml-12rpx mr-12rpx"
                      disabled="{{onRefresh}}" icon="{{refreshIcon}}" loading="{{onRefresh}}" shape="square"
                      size="large" theme="light" variant="outline"></t-button>
            <t-button aria-label="实验性功能" bind:tap="handleExpPopup" block class="beta-home ml-12rpx" icon="alpha"
                      shape="square" size="large" theme="light" variant="outline"></t-button>
        </view>
        <t-button bind:tap="handleGuessPopup" block class="text-right flex-1" icon="radar" size="large"
                  variant="outline">扫版
        </t-button>
    </view>

    <view hidden="{{scrollNumber<=600}}">
        <t-back-top bind:to-top="onToTop" class="right--1rpx fixed" fixed scroll-top="{{scrollTop}}"
                    style="bottom: {{safeBottomPaddingBackTop}}px;" text="回到顶部" theme="half-round"
                    visibility-height="0"></t-back-top>
    </view>
</view>


<t-popup bind:visible-change="aboutPopupVisible" close-on-overlay-click placement="bottom" visible="{{aboutVisible}}">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-about">关于</view>
        </view>
        <view class="about-text mx-48rpx mb-12rpx">QQ 版本列表 Vigor for WeChat MiniProgram</view>
        <view class="about-text m-12rpx px-36rpx">
            <text class="inline">版本：{{qverbowVersion}}</text>
            <t-tag class="ml-12rpx inline-block vertical-bottom" size="small" theme="default"
                   variant="light">{{qverbowEnvVersion}}</t-tag>
        </view>
        <view class="about-text m-12rpx px-36rpx">作者：快乐小牛、有鲫雪狐</view>
        <view class="about-text m-12rpx px-36rpx pb-12rpx">Since 2024.03.12</view>
        <view class="flex justify-center items-center">
            <image class="h-auto self-center" mode="widthFix"
                   src="{{ theme === 'dark' ? '../../assets/Built-with-TDesign-Licensed-under-MulanPubLv2-dark.png' : '../../assets/Built-with-TDesign-Licensed-under-MulanPubLv2-light.png' }}"
                   style="width: 75%;"/>
        </view>
        <view class="flex items-center justify-center mt-32rpx">
            <t-link bind:tap="copyOSLink" class="mr-16rpx" content="GitHub 项目地址" hover prefix-icon="logo-github"
                    size="small" theme="primary"/>
        </view>
        <t-footer text="Copyright © {{yearNow===2024?'2024':'2024-'+yearNow}} Qverbow Vigor. All Rights Reserved."/>
        <view class="m-32rpx">
            <t-button bind:tap="closeAboutPopup" block size="large" theme="primary">确定</t-button>
        </view>
        <view class="m-32rpx">
            <t-button bind:tap="recallUA" block size="large" theme="light">撤回同意用户协议</t-button>
        </view>
        <view class="m-32rpx">
            <t-button bind:tap="startOssLicensesMenu" block size="medium" theme="primary" variant="text">
                开放源代码许可
            </t-button>
        </view>
    </view>
</t-popup>

<t-popup bind:visible-change="guessPopupVisible" close-on-overlay-click="{{false}}" placement="bottom"
         visible="{{guessVisible}}" z-index="11001">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-guess">扫版（维护模式）</view>
        </view>
        <t-notice-bar class="mx-16rpx rounded-18rpx"
                      content="扫版功能已进入维护模式。您仍可以继续使用现有扫版功能，但 QQ 版本列表 Vigor 不再对相关功能及其任何后果作出任何可靠性保证。请明确并确保自身具备足够的风险识别和承受能力。"
                      prefixIcon="{{false}}" theme="warning" visible="{{true}}">
            <view slot="prefix-icon">
                <t-icon name="error-circle-filled"></t-icon>
            </view>
        </t-notice-bar>
        <t-tabs bind:change="onTabsChange" bind:click="onTabsClick" id="tabs" swipeable="{{false}}"
                t-class="custom-tabs" t-class-content="custom-panel" theme="tag" value="{{guessTabDefault}}">
            <t-tab-panel label="QQ" value="0">
                <t-notice-bar class="mx-16rpx mt-16rpx rounded-18rpx"
                              content="鉴于 QQ 测试版可能存在不可预知的稳定性问题，您在下载及使用该测试版本之前，必须明确并确保自身具备足够的风险识别和承受能力。"
                              prefixIcon="{{false}}" visible="{{QQTestSwitch}}">
                    <view slot="prefix-icon">
                        <t-icon name="error-circle-filled"></t-icon>
                    </view>
                </t-notice-bar>

                <t-input bind:change="onInputQQBig" confirm-type="{{QQTestSwitch ? 'next' : 'done'}}"
                         cursor-spacing="30" id="qq-official-version-big" label="主版本号" placeholder="点击以输入"
                         tips="填写格式为 x.y.z" type="digit" value="{{qqVersionBig}}"/>
                <t-input bind:change="onInputQQSmall" confirm-type="done" cursor-spacing="30"
                         disabled="{{!QQTestSwitch}}" id="qq-official-version-big" label="小版本号"
                         placeholder="{{QQTestSwitch ? '点击以输入' : '打开测试版扫版开关方可输入'}}"
                         tips="填写起始扫描小版本号，扫正式版时无需填写" type="number" value="{{qqVersionSmall}}"/>
                <t-cell bordered="{{false}}" description="此开关为关闭状态时将扫描正式版" title="测试版扫版">
                    <t-switch bind:change="handleQQTestSwitchChange" class="ml-48rpx" slot="note"
                              value="{{QQTestSwitch}}"/>
                </t-cell>
                <view class="mt-16rpx mx-32rpx mb-32rpx">
                    <t-button bind:tap="startQQGuess" block size="large" theme="primary">开始</t-button>
                </view>
                <view class="m-32rpx">
                    <t-button bind:tap="closeGuessPopup" block size="large" theme="light">取消</t-button>
                </view>
            </t-tab-panel>
            <t-tab-panel label="TIM" value="1">
                <t-input bind:change="onInputTIMBig" confirm-type="next" cursor-spacing="30"
                         id="tim-official-version-big" label="主版本号" placeholder="点击以输入" tips="填写格式为 x.y.z"
                         type="digit" value="{{timVersionBig}}"/>
                <t-input bind:change="onInputTIMSmall" borderless confirm-type="done" cursor-spacing="30"
                         id="tim-official-version-big" label="小版本号" placeholder="点击以输入"
                         tips="填写起始扫描小版本号" type="number" value="{{timVersionSmall}}"/>
                <view class="mt-16rpx mx-32rpx mb-32rpx">
                    <t-button bind:tap="startTIMGuess" block size="large" theme="primary">开始</t-button>
                </view>
                <view class="m-32rpx">
                    <t-button bind:tap="closeGuessPopup" block size="large" theme="light">取消</t-button>
                </view>

            </t-tab-panel>
            <t-tab-panel label="微信" value="2">
                <t-input bind:change="onInputWeChatBig" confirm-type="next" cursor-spacing="30" id="wechat-version-big"
                         label="主版本号" placeholder="无需填写小数点" tips="无需填写小数点，填写格式为 xyz"
                         type="number" value="{{wechatVersionBig}}"/>
                <t-input bind:change="onInputWeChatTrue" confirm-type="next" cursor-spacing="30"
                         id="wechat-version-true" label="真实版本号" placeholder="点击以输入"
                         tips="填写真实版本号（版本码）" type="number" value="{{wechatVersionTrue}}"/>
                <t-input bind:change="onInputWeChat16code" borderless confirm-type="done" cursor-spacing="30"
                         id="wechat-version-16code" label="十六进制代码" placeholder="无需填写开头的“0x”"
                         tips="填写十六进制代码，无需填写开头的“0x”" value="{{wechatVersion16code}}"/>
                <view class="mt-16rpx mx-32rpx mb-32rpx">
                    <t-button bind:tap="startWeChatGuess" block size="large" theme="primary">开始</t-button>
                </view>
                <view class="m-32rpx">
                    <t-button bind:tap="closeGuessPopup" block size="large" theme="light">取消</t-button>
                </view>
            </t-tab-panel>
            <t-tab-panel label="微信输入法" value="3">
                <t-input bind:change="onInputWeTypeBig" confirm-type="next" cursor-spacing="30" id="wetype-version-big"
                         label="主版本号" placeholder="点击以输入" tips="填写格式为 x.y.z" type="digit"
                         value="{{wetypeVersionBig}}"/>
                <t-input bind:change="onInputWeTypeLink" borderless confirm-type="done" cursor-spacing="30"
                         id="wetype-version-link" label="直链版本号" placeholder="点击以输入" tips="填写直链版本号"
                         type="number" value="{{wetypeVersionLink}}"/>
                <view class="mt-16rpx mx-32rpx mb-32rpx">
                    <t-button bind:tap="startWeTypeGuess" block size="large" theme="primary">开始</t-button>
                </view>
                <view class="m-32rpx">
                    <t-button bind:tap="closeGuessPopup" block size="large" theme="light">取消</t-button>
                </view>
            </t-tab-panel>
        </t-tabs>
    </view>
</t-popup>

<t-popup bind:visible-change="cellDetailPopupVisible" close-on-overlay-click placement="bottom"
         visible="{{cellDetailVisible}}">
    <view class="block" wx:if="{{detailStatus==='QQDetail'}}">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-cellitem">详情</view>
        </view>

        <view class="guess-text mx-32rpx mb-16rpx">版本：{{itemVersion}}</view>
        <view class="guess-text mx-32rpx mb-16rpx">额定大小：{{itemSize}} MB</view>
        <view class="guess-text mx-32rpx mb-6rpx" wx:if="{{PerProSwitch}}">
            占比历史最大包（{{maxSize}} MB）：
        </view>

        <t-progress class="mx-32rpx mb-16rpx" percentage="{{preSize}}" status="active"
                    style="font-family: TCloudNumber-Regular, sans-serif;" theme="plump" wx:if="{{PerProSwitch}}"/>

        <view class="guess-text mx-32rpx mb-16rpx">{{itemFeatureTitle}}</view>
        <view wx:for="{{itemSummary}}">
            <view class="guess-text mx-32rpx mb-16rpx">- {{item}}</view>
        </view>
    </view>
    <view class="block" wx:if="{{detailStatus==='TIMDetail'}}">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-cell-tim-item">详情</view>
        </view>

        <view class="guess-text mx-32rpx mb-16rpx">版本：{{itemTimVersion}}</view>
        <view class="guess-text mx-32rpx mb-16rpx">发布日期：{{itemTimDatetime}}</view>
        <view wx:for="{{itemTimNew}}">
            <view class="guess-text mx-32rpx mb-16rpx">- {{item}}</view>
        </view>
        <view wx:for="{{itemTimFix}}">
            <view class="guess-text mx-32rpx mb-16rpx">- {{item}}</view>
        </view>
    </view>
    <view class="block" wx:if="{{detailStatus==='WeixinDetail'}}">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-cell-weixin-item">详情</view>
        </view>

        <view class="guess-text mx-32rpx mb-16rpx">版本：{{itemWeixinVersion}}</view>
        <view class="guess-text mx-32rpx mb-16rpx">发布日期：{{itemWeixinDatetime}}</view>
    </view>
    <view class="m-32rpx flex" wx:if="{{detailStatus!=='WeixinDetail'}}">
        <t-button bind:tap="displayJson" block class="mr-16rpx" size="large" theme="light">查看源 JSON
        </t-button>
        <t-button bind:tap="closeCellDetailPopup" block class="ml-16rpx" size="large" theme="primary">确定
        </t-button>
    </view>

    <view class="m-32rpx flex items-center flex-col" wx:if="{{detailStatus==='WeixinDetail'}}">
        <view>
            <t-link bind:tap="copyWeixinChangelog" content="复制更新日志链接" hover size="medium" theme="primary"/>
        </view>
        <t-button bind:tap="closeCellDetailPopup" block class="mt-16rpx" size="large" theme="primary">确定
        </t-button>
    </view>
</t-popup>

<t-popup bind:visible-change="cellJsonDetialPopupVisible" close-on-overlay-click placement="bottom"
         visible="{{cellJsonDetailVisible}}">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-jsonitem">JSON 详情</view>
        </view>
        <view class="mx-32rpx mb-16rpx">
            <text class="whitespace-pre-wrap break-all text-13px" user-select>{{itemString}}</text>
        </view>
    </view>
    <t-footer text="— 可长按选择复制内容 —"></t-footer>
    <view class="m-32rpx flex">
        <t-button bind:tap="copyCellJsonDetail" block class="mr-16rpx" size="large" theme="light">
            复制全部
        </t-button>
        <t-button bind:tap="closeCellJsonDetailPopup" block class="ml-16rpx" size="large" theme="primary">
            确定
        </t-button>
    </view>
</t-popup>

<t-overlay duration="{{300}}" visible="{{errorVisible}}" z-index="14514"/>

<t-popup bind:visible-change="errorPopupVisible" close-on-overlay-click="{{false}}" placement="bottom"
         show-overlay="{{false}}" visible="{{errorVisible}}" z-index="14555">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-error">错误</view>
        </view>
        <view class="section__content">
            <t-result description="{{errorText}}" theme="error" title="发生错误"/>
        </view>
        <view class="m-32rpx flex">
            <t-button bind:tap="copyError" block class="mr-16rpx" size="large" theme="light">复制错误信息
            </t-button>
            <t-button bind:tap="closeErrorPopup" block class="ml-16rpx" size="large" theme="light">确定
            </t-button>
        </view>
    </view>
</t-popup>

<t-popup bind:visible-change="UAPopupVisible" close-on-overlay-click="{{false}}" placement="bottom"
         visible="{{UAVisible}}">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-ua">用户协议</view>
        </view>

        <scroll-view class="ua-license-recycle" enhanced scroll-y="{{true}}"
                     style="height: {{(heightRecycle*3/4)+'px'}};" type="list">
            <view class="ua-license w-full">
                <view class="px-32rpx">
                    <block>
                        <rich-text
                                nodes="<h1>QQ 版本列表 Vigor 用户协议</h1><br><blockquote><p>此用户协议于 2024 年 11 月 18 日修订，并于 2024 年 11 月 20 日实施。</p></blockquote><br><h2>导言</h2><br><p>欢迎您使用 QQ 版本列表 Vigor。</p><br><p>为使用 QQ 版本列表 Vigor 及服务，您应当阅读并遵守《QQ 版本列表 Vigor 用户协议》（以下简称“本协议”）。请您务必审慎阅读，充分理解各条款内容，特别是免除或者限制责任的条款，以及开通或使用某项服务的单独协议，并选择接受或不接受。限制、免责条款可能以加粗形式提示您注意。</p><br><p>除非您已阅读并接受本协议所有条款，否则您无权获取和使用 QQ 版本列表 Vigor 及相关服务。您的任何使用本应用行为即视为您已阅读并同意上述协议的约束。如果您未满 18 周岁，请在法定监护人的陪同下阅读本协议及其它上述协议，并特别注意未成年人使用条款。</p><br><h2>一、协议的范围</h2><br><p>本协议是您与 QQ 版本列表 Vigor 之间关于您下载，安装，使用，复制 QQ 版本列表 Vigor，以及使用 QQ 版本列表 Vigor 相关服务所订立的协议。</p><br><h2>二、关于 QQ 版本列表 Vigor 提供的服务</h2><br><p>QQ 版本列表 Vigor 提供的服务是指提供 Android QQ 和 Android TIM 版本列表的查看和对腾讯服务器提供的 Android QQ 及其它可能存在的腾讯软件产品的下载链接的枚举法扫描。QQ 版本列表 Vigor 用户可以通过本应用及时获取到 Android QQ 及其它可能存在的腾讯软件产品的版本更新的最新信息。</p><br><p>此外，QQ 版本列表 Vigor 可能以软件实验形式提供一些尚不稳定的服务，您在使用此类服务时，必须明确并确保自身具备足够的风险识别和承受能力。</p><br><h2>三、软件的获取</h2><br><p>您可以直接从 GitHub 平台获取 QQ 版本列表 Vigor 本体及其附带开源许可和知识产权相关文本的源代码。获取应用后，您需要按照该应用提示的步骤正确使用。</p><br><p>如果您从未经 GitHub 或相关官方平台获取本应用，QQ 版本列表 Vigor 无法保证该应用能够正常使用，并对因此给您造成的损失不予负责。</p><br><p>如果您不再需要使用 QQ 版本列表 Vigor，可以不再打开应用使用或卸载应用。</p><br><h2>四、软件的更新</h2><br><p>为了改善用户体验，完善服务内容，QQ 版本列表 Vigor 将不断努力开发新的服务，并为您不时提供软件更新（这些更新可能会采取软件替换，修改，功能强化，版本升级等形式）。</p><br><p>为了保证 QQ 版本列表 Vigor 及服务的安全性和功能的一致性，QQ 版本列表 Vigor 有权不向您特别通知而对软件进行更新，或者对软件的部分功能效果进行改变或限制。</p><br><p>QQ 版本列表 Vigor 新版本发布后，旧版本的软件可能无法使用，QQ 版本列表 Vigor 不保证旧版 QQ 版本列表 Vigor 及相应的服务继续可用，请您随时核对并获取最新版本。</p><br><h2>五、用户个人信息保护</h2><br><p>保护用户个人信息是 QQ 版本列表 Vigor 的一项基本原则，QQ 版本列表 Vigor 本身不会主动获取和存储您的个人信息。</p><br><p>但在您使用过程中，可能会因网络通信的必要性而被软件本体或腾讯服务器自动获取您的 IP 地址等网络相关信息，我们将严格遵守法律法规的规定，并采取适当措施保护您的网络信息安全。</p><br><p>QQ 版本列表 Vigor 可能以软件实验形式提供一些尚不稳定的服务，用户在使用此类实验性服务时可能需要用户手动填写个人信息。QQ 版本列表 Vigor 承诺不会获取和存储您填写的任何个人信息。</p><br><p>QQ 版本列表 Vigor 非常重视对未成年人个人信息的保护。若您是 18 周岁（不含）以下的未成年人，在使用 QQ 版本列表 Vigor 的服务前，应事先取得您的法定监护人的书面同意。</p><br><h2>六、主权力义务条款</h2><br><p>您理解并同意，为了向您提供有效的服务，您在此许可 QQ 版本列表 Vigor 利用您移动通讯终端设备的处理器和宽带等资源。QQ 版本列表 Vigor 使用过程中可能产生的数据流量的费用，您需自行向运营商了解相关资费信息。</p><br><p>QQ 版本列表 Vigor 可能以软件实验形式提供一些尚不稳定的服务，此类服务会明确标注“实验性”（或其的其它语言形式）。您使用此类服务即代表您已明确并确保自身具备足够的风险识别和承受能力。</p><br><h2>七、用户行为规范</h2><br><p>您充分了解并同意使用本应用服务时须遵守法律法规，不得利用 QQ 版本列表 Vigor 从事违法违规行为，包括但不限于：</p><br><ol><li>发布、传送、传播、储存危害国家安全统一、破坏社会稳定、违反公序良俗、侮辱、诽谤、淫秽、暴力以及任何违反国家法律法规的内容；</li><li>发布、传送、传播、储存侵害他人知识产权、商业秘密等合法权利的内容；</li><li>恶意虚构事实、隐瞒真相以误导、欺骗他人；</li><li>发布、传送、传播广告信息及垃圾信息；</li><li>将 QQ 版本列表 Vigor 用于任何未经许可的商业目的，包括但不限于以营利为目的推广、销售产品或服务；</li><li>其它法律法规禁止的行为。</li></ol><br><p>如果用户违反了本条约定，相关国家机关、机构、公司或个人等实体可能会对用户提起诉讼、罚款或采取其它制裁措施，并要求 QQ 版本列表 Vigor 给予协助。造成损害的，用户应依法予以赔偿，QQ 版本列表 Vigor 不承担任何责任。</p><br><p>如果 QQ 版本列表 Vigor 发现或收到他人举报您发布的信息违反本条约定，QQ 版本列表 Vigor 有权进行独立判断并采取技术手段予以删除、屏蔽或断开链接。同时，QQ 版本列表 Vigor 有权视用户行为性质采取包括但不限于暂停或终止服务，限制、冻结或终止 QQ 版本列表 Vigor 使用，追究法律责任等措施。</p><br><p>用户违反本条约定，导致任何第三方损害的，用户应当独立承担责任；QQ 版本列表 Vigor 因此遭受损失的，用户也应当一并赔偿。</p><br><h2>八、软件使用规范</h2><br><p>除非法律允许或 QQ 版本列表 Vigor 的书面许可，您使用 QQ 版本列表 Vigor 过程中不得删除 QQ 版本列表 Vigor 及其副本上关于知识产权和开放源代码许可的信息。</p><br><h2>九、免责条款</h2><br><p>您充分了解并同意：</p><br><p>QQ 版本列表 Vigor 仅为用户提供 Android QQ 和 Android TIM 版本信息展示和上述产品及其它可能存在的腾讯软件产品的官方版本获取服务，所有下载链接均来源于腾讯官方服务器。对于链接的有效性、可用性以及任何由腾讯官方服务器产生或导致的任何问题，QQ 版本列表 Vigor 不承担责任。</p><br><p>鉴于 QQ、TIM 和其它任意腾讯软件产品的测试版本可能存在不可预知的稳定性问题，您在下载及使用任何腾讯软件产品的任何测试版本即代表您已明确并确保自身具备足够的风险识别和承受能力。您明确并同意其使用任何腾讯软件产品的任何测试版本所存在的风险将完全由其本人和/或其法定责任主体承担，QQ 版本列表 Vigor 对此不承担任何责任。</p><br><p>QQ 版本列表 Vigor 可能以软件实验形式提供一些尚不稳定的服务，此类服务会明确标注“实验性”（或其的其它语言形式）。您使用此类服务即代表您已明确并确保自身具备足够的风险识别和承受能力。因使用此类实验性服务而可能产生的任何直接或间接损失、损害以及其它不利后果，QQ 版本列表 Vigor 不承担责任。</p><br><p>除 QQ 版本列表 Vigor 注明之用户协议外，其它因不当使用本应用而导致的任何意外、疏忽、合约毁坏、诽谤、版权或其它知识产权侵犯及其所造成的任何损失，QQ 版本列表 Vigor 概不负责，亦不承担任何法律责任。</p><br><p>对于因不可抗力或因黑客攻击、通讯线路中断等 QQ 版本列表 Vigor 不能控制的原因造成的网络服务中断或其它缺陷，导致用户不能正常使用本应用，QQ 版本列表 Vigor 不承担任何责任，但将尽力减少因此给用户造成的损失或影响。</p><br><p>本协议未涉及的问题请参见中华人民共和国相关适用法律法规，当本协议与中华人民共和国相关适用法律法规冲突时，以中华人民共和国相关适用法律法规为准。本条所述之免责条款并不影响用户根据适用法律享有的法定权利。</p><br><h2>十、其它</h2><br><p>您使用 QQ 版本列表 Vigor 即视为您已阅读并同意接受 QQ 版本列表 Vigor 协议的约束。QQ 版本列表 Vigor 有权在必要时修改本协议条款。如果您不接受修改后的条款，应当停止使用 QQ 版本列表 Vigor。</p><br><p>QQ 版本列表 Vigor 有权随时修改本协议，并将在应用内显著位置弹窗通知用户。修订后的协议自公布之日起在一定期限后生效，请用户定期查看相关公告，继续使用本应用即视为同意接受修订后的协议。</p><br><p>QQ 版本列表 Vigor 基于 木兰公共许可证, 第2版 许可证开放源代码。</p><br><p>本应用与深圳市腾讯计算机系统有限公司和/或其关联公司无关。</p><br><p>“腾讯”“QQ”“腾讯 QQ”“腾讯 TIM”“微信”“WeChat”“Weixin”“腾讯微信”“企业微信”“WeCom”“微信输入法”“WeType”“应用宝”“腾讯应用宝”“腾讯企点”“TDesign”等是深圳市腾讯计算机系统有限公司和/或其关联公司的商标。本项目对“腾讯”“QQ”“腾讯 QQ”“腾讯 TIM”“微信”“WeChat”“Weixin”“腾讯微信”“企业微信”“WeCom”“微信输入法”“WeType”“应用宝”“腾讯应用宝”“腾讯企点”“TDesign”等的使用旨在注明和指向对应主体，并非表示对“腾讯”“QQ”“腾讯 QQ”“腾讯 TIM”“微信”“WeChat”“Weixin”“腾讯微信”“企业微信”“WeCom”“微信输入法”“WeType”“应用宝”“腾讯应用宝”“腾讯企点”“TDesign”等商标的注册和拥有。</p><br><p>Android™ 是 Google LLC 的商标。</p><br><p>GITHUB® 是 GitHub, Inc. 在美国和其他国家或地区的商标或注册商标。</p><br><p>Unreal® 及其徽标是 Epic Games, Inc. 在美国及其它国家或地区的商标或注册商标。</p><br><p>本协议的签订地是中华人民共和国上海市。</p><br><p>本协议适用中华人民共和国相关适用法律法规。如果双方发生纠纷，应友好协商解决；如协商不成，您同意将纠纷提交给签订地具有管辖权的法院提起诉讼。</p><br><p>本协议中的某些条款因故无法适用，则本协议的其它条款继续适用且无法适用的条款将会被修改，以便其能够依法适用。</p><br><p>本协议是您和 QQ 版本列表 Vigor 之间关于本产品相关事项的最终的、完整的、排他的协议，且取代和合并之前当事人关于此类事项（包括任何形式的最终用户许可、开放源代码许可、服务条款和隐私政策）的讨论和协议。</p><br><p>每部分的标题只为阅读之便而无任何法律或合同义务。</p><br><p>本协议可能存在多种语言版本。各语言版本之间如有不一致之处，以中文版本为准。</p><br><p>除非我们书面同意，您不得转让本协议所规定的权利义务。任何违反上述规定企图转让的行为均无效。在法律许可的范围内，QQ 版本列表 Vigor 对本协议享有最终解释权。</p><br><p>QQ 版本列表 Vigor</p><br><p>2024 年 11 月 18 日</p>"/>
                    </block>
                </view>
            </view>
        </scroll-view>

        <view class="m-32rpx">
            <t-button bind:tap="UAAgree" block size="large" theme="primary">同意</t-button>
        </view>
        <view class="m-32rpx flex">
            <t-button bind:tap="UADisagree" block size="large" theme="danger">{{UADisagreeText}}</t-button>
        </view>
    </view>
</t-popup>

<t-popup bind:visible-change="settingPopupVisible" placement="bottom" visible="{{settingVisible}}">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-setting">设置</view>
        </view>
        <t-cell bordered description="开启后能更精确监听滚动事件以精准更改标题栏显示状态，但系统资源占用更高"
                title="高性能模式">
            <t-switch bind:change="handleThrottleChange" class="ml-48rpx" slot="note" value="{{ThrottleSwitch}}"/>
        </t-cell>
        <t-cell arrow bind:tap="handlePersonalizationSetting" bordered hover title="个性化"/>
        <t-cell bordered title="扩展测试版扫版直链后缀">
            <t-switch bind:change="handleExtendSuffixChange" class="ml-48rpx" slot="note"
                      value="{{ExtendSuffixSwitch}}"/>
        </t-cell>
        <t-cell arrow bind:tap="handleSuffixSetting" bordered hover title="扫版直链后缀设置"/>
        <t-cell bordered="{{false}}" title="解除 QQ 测试版扫版小版本号遵循 5 的倍数限制">
            <t-switch bind:change="handleNot5Change" class="ml-48rpx" slot="note" value="{{Not5Switch}}"/>
        </t-cell>
        <view class="mt-16rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="closeSettingPopup" block size="large" theme="light">确定</t-button>
        </view>
    </view>
</t-popup>

<t-overlay duration="{{300}}" visible="{{loadingVisible}}" z-index="11002"/>

<t-popup bind:visible-change="loadingPopupVisible" close-on-overlay-click="{{false}}" placement="bottom"
         show-overlay="{{false}}" visible="{{loadingVisible}}" z-index="11003">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx">扫版（维护模式）</view>
        </view>

        <view class="flex items-center justify-between mx-32rpx">
            <t-loading align="center" class="large" size="68rpx" theme="circular"/>
            <view class="break-all ml-24rpx">{{updateProgressDialogMessage}}</view>
        </view>

        <view class="m-32rpx">
            <t-button bind:tap="cancelGuess" block size="large" theme="light">取消</t-button>
        </view>
    </view>
</t-popup>

<t-popup bind:visible-change="guessSuccessPopupVisible" close-on-overlay-click="{{false}}" placement="bottom"
         visible="{{guessSuccessVisible}}">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx">扫版 Extended</view>
        </view>
        <view class="section__content">
            <t-result description="{{successGuessedLink+succeedGuessedFileSizeShare}}" theme="success"
                      title="扫版成功"/>
        </view>
        <view class="flex items-center justify-center mt-32rpx">
            <t-link bind:tap="copyGuessSuccessShare" content="复制分享文案并停止" hover prefix-icon="share"
                    size="medium" theme="primary"/>
        </view>
        <view class="mt-24rpx mx-32rpx mb-32rpx flex">
            <t-button bind:tap="copyGuessSuccess" block size="large" theme="primary">复制链接并停止</t-button>
        </view>
        <view class="m-32rpx flex">
            <t-button bind:tap="cancelGuess" block class="mr-16rpx" size="large" theme="light">仅停止
            </t-button>
            <t-button bind:tap="continueGuess" block class="ml-16rpx" size="large" theme="light">跳过以继续
            </t-button>
        </view>
    </view>
</t-popup>

<t-overlay duration="{{300}}" visible="{{suffixSettingVisible}}" z-index="11501"/>

<t-popup bind:visible-change="suffixSettingPopupVisible" close-on-overlay-click="{{false}}" placement="bottom"
         show-overlay="{{false}}" visible="{{suffixSettingVisible}}" z-index="11502">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-guess-success">扫版直链后缀设置</view>
        </view>
        <view class="mb-16rpx">
            <t-input bind:change="changeCustomSuffix" confirm-type="done" cursor-spacing="30" id="custom-suffix"
                     label="自定义后缀" placeholder="输入自定义扫版后缀" tips="请使用“, ”（西文逗号+空格）分割"
                     value="{{customSuffix}}"/>
        </view>
        <view class="chbox-top">
            <t-checkbox bind:change="suffix64HBChange" block="{{false}}" borderless checked="{{suffix64HB}}"
                        icon="rectangle" label="_64_HB"/>
            <t-checkbox bind:change="suffixHB64Change" block="{{false}}" borderless checked="{{suffixHB64}}"
                        icon="rectangle" label="_HB_64"/>
            <t-checkbox bind:change="suffix64HB1Change" block="{{false}}" borderless checked="{{suffix64HB1}}"
                        icon="rectangle" label="_64_HB1"/>
        </view>
        <view class="chbox">
            <t-checkbox bind:change="suffixHB164Change" block="{{false}}" borderless checked="{{suffixHB164}}"
                        icon="rectangle" label="_HB1_64"/>
            <t-checkbox bind:change="suffix64HB2Change" block="{{false}}" borderless checked="{{suffix64HB2}}"
                        icon="rectangle" label="_64_HB2"/>
            <t-checkbox bind:change="suffixHB264Change" block="{{false}}" borderless checked="{{suffixHB264}}"
                        icon="rectangle" label="_HB2_64"/>
        </view>
        <view class="chbox">
            <t-checkbox bind:change="suffix64HB3Change" block="{{false}}" borderless checked="{{suffix64HB3}}"
                        icon="rectangle" label="_64_HB3"/>
            <t-checkbox bind:change="suffixHB364Change" block="{{false}}" borderless checked="{{suffixHB364}}"
                        icon="rectangle" label="_HB3_64"/>
            <t-checkbox bind:change="suffix64HDChange" block="{{false}}" borderless checked="{{suffix64HD}}"
                        icon="rectangle" label="_64_HD"/>
        </view>
        <view class="chbox">
            <t-checkbox bind:change="suffixHD64Change" block="{{false}}" borderless checked="{{suffixHD64}}"
                        icon="rectangle" label="_HD_64"/>
            <t-checkbox bind:change="suffix64HD1Change" block="{{false}}" borderless checked="{{suffix64HD1}}"
                        icon="rectangle" label="_64_HD1"/>
            <t-checkbox bind:change="suffixHD164Change" block="{{false}}" borderless checked="{{suffixHD164}}"
                        icon="rectangle" label="_HD1_64"/>
        </view>
        <view class="chbox">
            <t-checkbox bind:change="suffix64HD2Change" block="{{false}}" borderless checked="{{suffix64HD2}}"
                        icon="rectangle" label="_64_HD2"/>
            <t-checkbox bind:change="suffixHD264Change" block="{{false}}" borderless checked="{{suffixHD264}}"
                        icon="rectangle" label="_HD2_64"/>
            <t-checkbox bind:change="suffix64HD3Change" block="{{false}}" borderless checked="{{suffix64HD3}}"
                        icon="rectangle" label="_64_HD3"/>
        </view>
        <view class="chbox">
            <t-checkbox bind:change="suffixHD364Change" block="{{false}}" borderless checked="{{suffixHD364}}"
                        icon="rectangle" label="_HD3_64"/>
            <t-checkbox bind:change="suffix64HD1HBChange" block="{{false}}" borderless checked="{{suffix64HD1HB}}"
                        icon="rectangle" label="_64_HD1HB"/>
            <t-checkbox bind:change="suffixHD1HB64Change" block="{{false}}" borderless checked="{{suffixHD1HB64}}"
                        icon="rectangle" label="_HD1HB_64"/>
        </view>
        <view class="chbox">
            <t-checkbox bind:change="suffixTestChange" block="{{false}}" borderless checked="{{suffixTest}}"
                        icon="rectangle" label="_test"/>
        </view>
        <view class="flex mt-16rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="closeSuffixSettingPopup" block class="mr-16rpx" size="large" theme="light">返回
            </t-button>
            <t-button bind:tap="saveSuffixSetting" block class="ml-16rpx" size="large" theme="primary">保存
            </t-button>
        </view>
    </view>
</t-popup>

<t-overlay bind:tap="closePersonalizationSetting" duration="{{300}}" visible="{{suffixPersonalizationVisible}}"
           z-index="11501"/>

<t-popup bind:visible-change="suffixPersonalizationPopupVisible" close-on-overlay-click="{{false}}" placement="bottom"
         show-overlay="{{false}}" visible="{{suffixPersonalizationVisible}}" z-index="11502">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-personalization">个性化</view>
        </view>
        <t-cell bordered description="开启后，首屏将显示微信版本列表，QQ、TIM 版本列表需从右向左滑动查看"
                title="首屏设置为微信版本列表">
            <t-switch bind:change="handleWeixinFirstChange" class="ml-48rpx" slot="note" value="{{WeixinFirstSwitch}}"/>
        </t-cell>
        <t-cell bordered description="Kuikly 内置情况以 QQ 正式版为判断来源" title="版本卡片显示 Kuikly 开发框架标识">
            <t-switch bind:change="handleKuiklyChange" class="ml-48rpx" slot="note" value="{{KuiklySwitch}}"/>
        </t-cell>
        <t-cell bordered description="虚幻引擎内置情况以 QQ 正式版为判断来源" title="版本卡片显示虚幻引擎标识">
            <t-switch bind:change="handleUEChange" class="ml-48rpx" slot="note" value="{{UESwitch}}"/>
        </t-cell>
        <t-cell bordered title="QQ 版本卡片显示额定包大小占比历史最大包指示条">
            <t-switch bind:change="handlePerProChange" class="ml-48rpx" slot="note" value="{{PerProSwitch}}"/>
        </t-cell>
        <t-cell bordered="{{false}}" title="版本号字体使用 TCloudNumber">
            <t-switch bind:change="handleTCloudNumberChange" class="ml-48rpx" slot="note"
                      value="{{TCloudNumberSwitch}}"/>
        </t-cell>
        <view class="mt-16rpx ml-48rpx mr-48rpx mb-16rpx">
            <t-slider bind:change="handleTCloudNumberHeavyChange" disabled="{{!TCloudNumberSwitch}}"
                      marks="{{fontHeavySliderMarks}}" max="2" min="0" step="{{1}}" value="{{TCloudNumberHeavy}}"
                      wx:if="{{suffixPersonalizationVisible}}"/>
        </view>
        <view class="flex mt-32rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="closePersonalizationSetting" block size="large" theme="light">返回
            </t-button>
        </view>
    </view>
</t-popup>

<t-popup bind:visible-change="expPopupVisible" placement="bottom" visible="{{expVisible}}">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx" id="ability-exp">实验性功能</view>
        </view>
        <t-cell arrow bind:tap="handleGetFromWeixinAlphaConfig" bordered
                description="从腾讯服务器配置拉取微信最新测试版下载直链" hover title="获取微信测试版">
            <view class="ml-4rpx" slot="note"
                  style="visibility: {{getFromWeixinAlphaConfigLoading?'visible':'hidden'}}">
                <t-loading/>
            </view>
        </t-cell>
        <t-cell arrow bind:tap="handleGetFromWeTypeLatestChannel" bordered
                description="从微信输入法测试通道获取微信输入法最新下载直链" hover title="获取微信输入法测试版">
            <view class="ml-4rpx" slot="note"
                  style="visibility: {{getFromWeTypeLatestChannelLoading?'visible':'hidden'}}">
                <t-loading/>
            </view>
        </t-cell>
        <t-cell arrow bind:tap="handleGetFromTencentAppStore" bordered="{{false}}" hover
                title="腾讯应用宝更新获取（实验性）"/>
        <view class="mt-24rpx mx-32rpx mb-32rpx flex">
            <t-button bind:tap="closeExpPopup" block size="large" theme="light">返回</t-button>
        </view>
    </view>
</t-popup>

<t-overlay bind:click="closeGetFromTencentAppStorePopup" duration="{{300}}" visible="{{getFromTencentAppStoreVisible}}"
           z-index="11552"/>

<t-popup bind:visible-change="getFromTencentAppStorePopupVisible" placement="bottom" show-overlay="{{false}}"
         visible="{{getFromTencentAppStoreVisible}}" z-index="11555">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx">腾讯应用宝更新获取（实验性）</view>
        </view>
        <t-notice-bar class="mx-16rpx mb-32rpx rounded-18rpx"
                      content="腾讯应用宝更新获取功能为 QQ 版本列表 Vigor 附带的实验性功能，可能存在不可预知的稳定性问题。请明确并确保自身具备足够的风险识别和承受能力。"
                      prefixIcon="{{false}}" visible="{{true}}">
            <view slot="prefix-icon">
                <t-icon name="error-circle-filled"></t-icon>
            </view>
        </t-notice-bar>
        <view class="mt-16rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="getQQLinkFromTencentAppStore" block disabled="{{onQQGet}}" loading="{{onQQGet}}"
                      size="large" theme="light">获取 QQ 下载直链
            </t-button>
        </view>
        <view class="mt-16rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="getTIMLinkFromTencentAppStore" block disabled="{{onTIMGet}}" loading="{{onTIMGet}}"
                      size="large" theme="light">获取 TIM 下载直链
            </t-button>
        </view>
        <view class="mt-16rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="getWeixinLinkFromTencentAppStore" block disabled="{{onWeixinGet}}"
                      loading="{{onWeixinGet}}" size="large" theme="light">获取微信下载直链
            </t-button>
        </view>
        <view class="mt-16rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="getWeComLinkFromTencentAppStore" block disabled="{{onWeComGet}}"
                      loading="{{onWeComGet}}" size="large" theme="light">获取企业微信下载直链
            </t-button>
        </view>
        <view class="mt-16rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="getWeTypeLinkFromTencentAppStore" block disabled="{{onWeTypeGet}}"
                      loading="{{onWeTypeGet}}" size="large" theme="light">获取微信输入法下载直链
            </t-button>
        </view>
        <view class="mt-16rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="getQidianLinkFromTencentAppStore" block disabled="{{onQidianGet}}"
                      loading="{{onQidianGet}}" size="large" theme="light">获取腾讯企点下载直链
            </t-button>
        </view>
        <view class="mt-16rpx mx-32rpx mb-32rpx">
            <t-button bind:tap="closeGetFromTencentAppStorePopup" block size="large" theme="light">返回</t-button>
        </view>
    </view>
</t-popup>

<t-overlay bind:click="closeExpBackPopup" duration="{{300}}" visible="{{expBackVisible}}" z-index="11557"/>

<t-popup bind:visible-change="expBackPopupVisible" placement="bottom" show-overlay="{{false}}"
         visible="{{expBackVisible}}" z-index="11560">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx">{{expJsonBackTitle}}</view>
        </view>
        <view class="section__content">
            <t-result description="{{successExpBackLink+succeedExpBackFileSizeShare}}" theme="{{expBackStatus}}"
                      title="{{expJsonBackResultTitle}}"/>
        </view>
        <view class="flex items-center justify-center mt-32rpx">
            <t-link bind:tap="copyExpBackShare" content="复制分享文案" hover prefix-icon="share" size="medium"
                    theme="primary"/>
        </view>
        <view class="mt-24rpx mx-32rpx mb-32rpx flex">
            <t-button bind:tap="copyExpBack" block size="large" theme="primary">复制链接</t-button>
        </view>
        <view class="m-32rpx flex">
            <t-button bind:tap="handleExpJsonBack" block class="mr-16rpx" size="large" theme="light">
                查看源 JSON
            </t-button>
            <t-button bind:tap="closeExpBackPopup" block class="ml-16rpx" size="large" theme="light">返回
            </t-button>
        </view>
    </view>
</t-popup>

<t-overlay bind:click="closeExpJsonBackPopup" duration="{{300}}" visible="{{expJsonBackVisible}}" z-index="11562"/>

<t-popup bind:visible-change="expJsonBackPopupVisible" close-on-overlay-click="{{false}}" placement="bottom"
         show-overlay="{{false}}" visible="{{expJsonBackVisible}}" z-index="11565">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx">JSON 详情</view>
        </view>

        <scroll-view class="ua-license-recycle" enhanced scroll-y="{{true}}"
                     style="height: {{(heightRecycle*3/4)+'px'}};" type="list">
            <view class="ua-license w-full">
                <view class="px-32rpx">
                    <view class="mb-16rpx">
                        <text class="text-13px break-all whitespace-pre-wrap" style="overflow-wrap: normal;"
                              user-select>{{expBackJson}}</text>
                    </view>
                </view>
            </view>
        </scroll-view>
        <t-footer class="mt-8rpx" text="— 可长按选择复制内容 —"></t-footer>
        <view class="mt-24rpx mx-32rpx mb-32rpx flex">
            <t-button bind:tap="copyExpJsonBack" block class="mr-16rpx" size="large" theme="light">复制全部
            </t-button>
            <t-button bind:tap="closeExpJsonBackPopup" block class="ml-16rpx" size="large" theme="light">返回
            </t-button>
        </view>
    </view>
</t-popup>

<t-overlay bind:click="closeExpBackPopupWithUrlOnly" duration="{{300}}" visible="{{expBackWithUrlOnlyVisible}}"
           z-index="11557"/>

<t-popup bind:visible-change="expBackPopupWithUrlOnlyVisible" placement="bottom" show-overlay="{{false}}"
         visible="{{expBackWithUrlOnlyVisible}}" z-index="11560">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx">{{expJsonBackTitle}}</view>
        </view>
        <view class="section__content">
            <t-result description="{{successExpBackLink+succeedExpBackFileSizeShare}}" theme="{{expBackStatus}}"
                      title="{{expJsonBackResultTitle}}"/>
        </view>
        <view class="flex items-center justify-center mt-32rpx" wx:if="{{expShareText!==''}}">
            <t-link bind:tap="copyExpBackShare" content="复制分享文案" hover prefix-icon="share" size="medium"
                    theme="primary"/>
        </view>
        <view class="mt-24rpx mx-32rpx mb-32rpx flex">
            <t-button bind:tap="copyExpBack" block size="large" theme="primary">复制链接</t-button>
        </view>
        <view class="m-32rpx flex">
            <t-button bind:tap="closeExpBackPopupWithUrlOnly" block size="large" theme="light">返回</t-button>
        </view>
    </view>
</t-popup>

<t-popup bind:visible-change="localWeixinDetailPopupVisible" close-on-overlay-click placement="bottom"
         visible="{{localWeixinDetailVisible}}">
    <view class="block">
        <view class="flex items-center h-116rpx">
            <view class="flex-1 text-center font-600 text-36rpx">本机微信版本详情</view>
        </view>
        <t-cell arrow bind:tap="clickLocalWeixinVersionCell" bordered description="{{weixinLocalVersion}}" hover
                title="微信版本"/>
        <t-cell arrow bind:tap="clickLocalWeixinSDKVersionCell" bordered description="{{weixinLocalSDKVersion}}" hover
                title="微信小程序基础库版本"/>
        <t-cell arrow bind:tap="clickLocalWeixinPlatformCell" bordered="{{weixinLocalABI!==undefined}}"
                description="{{weixinLocalPlatform+'（'+weixinLocalSystem+'）'}}" hover title="微信客户端平台"/>
        <t-cell arrow bind:tap="clickLocalWeixinABICell" bordered="{{false}}" description="{{weixinLocalABI}}" hover
                title="ABI" wx:if="{{weixinLocalABI!==undefined}}"/>
    </view>
    <view class="m-32rpx flex">
        <t-button bind:tap="copyLocalWeixin" block class="mr-16rpx" size="large" theme="light">复制全部
        </t-button>
        <t-button bind:tap="closeLocalWeixinDetailPopup" block class="ml-16rpx" size="large" theme="primary">确定
        </t-button>
    </view>
</t-popup>